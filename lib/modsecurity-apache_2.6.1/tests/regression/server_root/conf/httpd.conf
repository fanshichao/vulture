### Base configuration for starting Apache httpd

<IfDefine !CHROOT>
	# File locations
	PidFile /root/vulture/lib/modsecurity-apache_2.6.1/tests/regression/server_root/logs/httpd.pid
	ScoreBoardFile /root/vulture/lib/modsecurity-apache_2.6.1/tests/regression/server_root/logs/httpd.scoreboard
</IfDefine>

<IfModule !mod_proxy.c>
	LoadModule proxy_module /usr/lib/apache2/modules/mod_proxy.so
	LoadModule proxy_http_module /usr/lib/apache2/modules/mod_proxy_http.so
</IfModule>
<IfModule !mod_unique_id.c>
	LoadModule unique_id_module /usr/lib/apache2/modules/mod_unique_id.so
</IfModule>

<IfDefine !NOMODSEC>
	# TODO: Need to have these configurable
	LoadFile /usr/lib/libxml2.so
	LoadFile /usr/lib/liblua5.1.so
	LoadModule security2_module /usr/lib/apache2/modules/mod_security2.so
</IfDefine>

ServerName localhost

CoreDumpDirectory /root/vulture/lib/modsecurity-apache_2.6.1/tests/regression/server_root/tmp

LogLevel debug
ErrorLog /root/vulture/lib/modsecurity-apache_2.6.1/tests/regression/server_root/logs/error.log

<IfDefine !CHROOT>
	DocumentRoot /root/vulture/lib/modsecurity-apache_2.6.1/tests/regression/server_root/htdocs
	<Directory "/root/vulture/lib/modsecurity-apache_2.6.1/tests/regression/server_root/htdocs">
		Options Indexes FollowSymLinks
		AllowOverride None
	</Directory>
</IfDefine>
