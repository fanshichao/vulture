{% extends "base.html" %}
{% load i18n %}

{% block title %}
	{% trans "Web Firewall" %} - <small>{% trans "rules set selection" %}</small>
{% endblock %}

{% block tabs %}
    <li><a href="/policy/"/>{% trans "List" %}</a></li>

    <li><a href="#" id="main_tab_1" class="active">{% trans "Main settings" %}</a></li>
{% endblock %}

{% block content %}


<script type='text/javascript'>
    function setAllBox(className,CheckValue){
        var boxes = document.getElementsByClassName(className);
        if(!boxes){
            alert('no boxes');
            return;
        }
        for(var i=0;i < boxes.length;i++){
            boxes[i].checked = CheckValue;
        }
    }

</script>
    <div id="main_content_1" class="main_content">
    <form method="post" name="form" action="">
    <table>
        {{form}}
    <tr>
    <th colspan="2"><input type="submit" value="{% trans "Save settings" %}" /></td>
</th>
    </tr>
    </table>
    <table>
        {% for group in groups %}
        <tr><th>{{group.nom}}</th><th><input type="checkbox" name="file_{{fichier.pk}}" onclick="setAllBox('{{group.nom}}',this.checked)"/>{% trans "Select"%}</th></tr>
            {%for fichier in group.fichiers %}
            <tr>
                <td>{{fichier.name}}</td><td><input type="checkbox" name="file_{{fichier.pk}}" class="{{group.nom}}" {% if fichier.checked %} checked="checked"{%endif%}/></td>
            </tr>
            {%endfor%}
        {% endfor %}
    </table>
    </form>
    </div>
{% endblock %}
